@startuml

AppBundle\Manager.SourceManager --> AppBundle\Entity.Project
AppBundle\Manager.SourceManager --> AppBundle\Source.AbstractSource

namespace AppBundle\Manager {
    class SourceManager {
        + {static} fetchNewChanges(project : Project, lastId : string)
        + {static} fetchAllChanges(project : Project)
    }
}

namespace AppBundle\Entity\Source {
    abstract class AbstractSource {
        {abstract} + getChangelogs(projectName : string[, lastId : string]) : array
        {abstract} + create()
    }
    class Github extends AbstractSource {
        + changelogUrl : string = 'https://api.github.com/repos/{projectName}/commits'
        + getChangelogUrl(projectName : string) : string
        + getChangelogs([lastId : string]) : array
        + create()
    }
}

namespace AppBundle\Entity {
    abstract class AbstractEntity {
        # id : int
        + getId() : int
    }
    class Asset extends AbstractEntity {
        - title : string
        + getTitle() : string
    }
    class Change extends AbstractEntity {
        - externalId : string
        - title : string
        - type : string
        - author : string
        + getTitle() : string
        + getType() : string
        + getAuthor() : string
        + getExternalId() : string
        + setTitle(title : string)
        + setType(type : string)
        + setAuthor(author : string)
        + setExternalId(externalId : string)
    }
    class Project extends AbstractEntity {
        - title : string
        - externalId : string
        - source : string
        + getTitle() : string
        + getSource() : string
        + getExternalId() : string
    }
    class User extends AbstractEntity implements \Symfony\Component\Security\Core\User.UserInterface {
        - username : string
        - email : string
        - password : string
        - roles : array
        + getUsername() : string
        + setUsername(username : string)
        + getEmail() : string
        + setEmail(email : string)
        + getPassword() : string
        + setPassword(password : string)
        + getRoles() : array
        + setRoles(roles : array)
        + getSalt() : null
        + eraseCredentials()
    }

    Change "1" --> "0..*" Asset
    Project "1" <--> "0..*" Change
}


@enduml